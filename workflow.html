
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive A3FE Architecture</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body { 
            margin: 0; 
            display: flex; 
            height: 100vh; /* Full viewport height */
            overflow: hidden; /* Prevent scrollbars */
            font-family: Arial, sans-serif;
        }
        .controls {
            width: 200px;
            padding: 20px;
            background-color: #f4f4f4;
            border-right: 1px solid #ccc;
            box-sizing: border-box;
            overflow: auto;
        }
        .controls h2 {
            font-size: 16px;
            margin-bottom: 10px;
        }
        .controls label {
            display: block;
            margin-top: 15px;
            font-size: 14px;
        }
        .controls input[type="color"] {
            margin-top: 5px;
            width: 100%;
            height: 30px;
            border: none;
            padding: 0;
            cursor: pointer;
        }
        .resizer {
            width: 5px;
            cursor: ew-resize;
            background-color: #ddd;
        }
        .visualization-container {
            flex: 1;
            position: relative;
            border: 2px solid #ccc; /* Light grey border */
            box-sizing: border-box;
            overflow: hidden;
        }
        svg { 
            width: 100%;
            height: 100%;
        }
        .node { 
            cursor: pointer; 
            fill: #69b3a2;
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .link { 
            stroke: #999; 
            stroke-opacity: 0.6; 
            stroke-width: 2px;
        }
        .label { 
            font-family: Arial, sans-serif; 
            font-size: 12px; 
            fill: #555;
        }
        .tooltip {	
            position: absolute;			
            text-align: center;			
            padding: 6px;				
            font: 12px sans-serif;		
            background: lightsteelblue;	
            border: 0px;		
            border-radius: 8px;			
            pointer-events: none;			
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="controls">
        <h2>Customize Colors</h2>
        <label for="nodeColor">Nodes:</label>
        <input type="color" id="nodeColor" name="nodeColor" value="#69b3a2">
        
        <label for="linkColor">Edges:</label>
        <input type="color" id="linkColor" name="linkColor" value="#999999">
        
        <label for="labelColor">Labels:</label>
        <input type="color" id="labelColor" name="labelColor" value="#555555">
    </div>
    <div class="resizer"></div>
    <div class="visualization-container">
        <svg></svg>
        <div class="tooltip"></div>
    </div>
    <script>
        (function() {
            // Embed the JSON data directly
            const graph = {"name": "MelGene", "directed": true, "strict": false, "_draw_": [{"op": "c", "grad": "none", "color": "#fffffe00"}, {"op": "C", "grad": "none", "color": "#ffffff"}, {"op": "P", "points": [[0.0, 0.0], [0.0, 846.0], [1809.0, 846.0], [1809.0, 0.0]]}], "bb": "0,0,1809,846", "label": "", "rankdir": "LR", "xdotversion": "1.7", "_subgraph_cnt": 4, "objects": [{"name": "cluster_main", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "p", "points": [[8.0, 635.0], [8.0, 838.0], [1295.0, 838.0], [1295.0, 635.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [651.5, 822.8], "align": "c", "width": 58.0, "text": "main.py"}], "bb": "8,635,1295,838", "label": "main.py", "lheight": "0.21", "lp": "651.5,826.5", "lwidth": "0.81", "rankdir": "LR", "_gvid": 0, "nodes": [4, 5, 6, 7, 8, 9], "edges": [0, 1, 2, 3, 5, 6]}, {"name": "cluster_transformation", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "p", "points": [[313.0, 444.0], [313.0, 627.0], [1801.0, 627.0], [1801.0, 444.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1057.0, 611.8], "align": "c", "width": 136.0, "text": "_transformation.py"}], "bb": "313,444,1801,627", "label": "_transformation.py", "lheight": "0.21", "lp": "1057,615.5", "lwidth": "1.89", "rankdir": "LR", "_gvid": 1, "nodes": [10, 11, 12, 13, 14, 15, 16, 17], "edges": [8, 11, 12, 13, 14, 15, 16, 17, 18]}, {"name": "cluster_mtype", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "p", "points": [[327.5, 8.0], [327.5, 191.0], [1329.0, 191.0], [1329.0, 8.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [828.25, 175.8], "align": "c", "width": 74.0, "text": "_mtype.py"}], "bb": "327.5,8,1329,191", "label": "_mtype.py", "lheight": "0.21", "lp": "828.25,179.5", "lwidth": "1.03", "rankdir": "LR", "_gvid": 2, "nodes": [18, 19, 20, 21, 22, 23, 24], "edges": [20, 21, 23, 24, 25]}, {"name": "cluster_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "p", "points": [[846.0, 199.0], [846.0, 436.0], [1590.0, 436.0], [1590.0, 199.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1218.0, 420.8], "align": "c", "width": 61.0, "text": "_keys.py"}], "bb": "846,199,1590,436", "label": "_keys.py", "lheight": "0.21", "lp": "1218,424.5", "lwidth": "0.85", "rankdir": "LR", "_gvid": 3, "nodes": [25, 26, 27, 28, 29, 30, 31, 32], "edges": [28, 29, 30, 31, 32, 33, 34]}, {"_gvid": 4, "name": "main", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[105.0, 701.0], [105.0, 701.0], [28.0, 701.0], [28.0, 701.0], [22.0, 701.0], [16.0, 695.0], [16.0, 689.0], [16.0, 689.0], [16.0, 677.0], [16.0, 677.0], [16.0, 671.0], [22.0, 665.0], [28.0, 665.0], [28.0, 665.0], [105.0, 665.0], [105.0, 665.0], [111.0, 665.0], [117.0, 671.0], [117.0, 677.0], [117.0, 677.0], [117.0, 689.0], [117.0, 689.0], [117.0, 695.0], [111.0, 701.0], [105.0, 701.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [66.5, 679.3], "align": "c", "width": 85.0, "text": "Main Script"}], "height": "0.5", "label": "Main Script", "pos": "66.5,683", "shape": "box", "style": "rounded", "width": "1.4028"}, {"_gvid": 5, "name": "input_mrna", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[493.0, 679.0], [493.0, 679.0], [334.0, 679.0], [334.0, 679.0], [328.0, 679.0], [322.0, 673.0], [322.0, 667.0], [322.0, 667.0], [322.0, 655.0], [322.0, 655.0], [322.0, 649.0], [328.0, 643.0], [334.0, 643.0], [334.0, 643.0], [493.0, 643.0], [493.0, 643.0], [499.0, 643.0], [505.0, 649.0], [505.0, 655.0], [505.0, 655.0], [505.0, 667.0], [505.0, 667.0], [505.0, 673.0], [499.0, 679.0], [493.0, 679.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 657.3], "align": "c", "width": 167.0, "text": "Input: mRNA Sequence"}], "height": "0.5", "label": "Input: mRNA Sequence", "pos": "413.5,661", "shape": "box", "style": "rounded", "width": "2.5417"}, {"_gvid": 6, "name": "input_music_type", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[474.5, 733.0], [474.5, 733.0], [352.5, 733.0], [352.5, 733.0], [346.5, 733.0], [340.5, 727.0], [340.5, 721.0], [340.5, 721.0], [340.5, 709.0], [340.5, 709.0], [340.5, 703.0], [346.5, 697.0], [352.5, 697.0], [352.5, 697.0], [474.5, 697.0], [474.5, 697.0], [480.5, 697.0], [486.5, 703.0], [486.5, 709.0], [486.5, 709.0], [486.5, 721.0], [486.5, 721.0], [486.5, 727.0], [480.5, 733.0], [474.5, 733.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 711.3], "align": "c", "width": 130.0, "text": "Input: Music Type"}], "height": "0.5", "label": "Input: Music Type", "pos": "413.5,715", "shape": "box", "style": "rounded", "width": "2.0278"}, {"_gvid": 7, "name": "generate_music", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[508.0, 787.0], [508.0, 787.0], [319.0, 787.0], [319.0, 787.0], [313.0, 787.0], [307.0, 781.0], [307.0, 775.0], [307.0, 775.0], [307.0, 763.0], [307.0, 763.0], [307.0, 757.0], [313.0, 751.0], [319.0, 751.0], [319.0, 751.0], [508.0, 751.0], [508.0, 751.0], [514.0, 751.0], [520.0, 757.0], [520.0, 763.0], [520.0, 763.0], [520.0, 775.0], [520.0, 775.0], [520.0, 781.0], [514.0, 787.0], [508.0, 787.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 765.3], "align": "c", "width": 197.0, "text": "generate_music_sequence()"}], "height": "0.5", "label": "generate_music_sequence()", "pos": "413.5,769", "shape": "box", "style": "rounded", "width": "2.9583"}, {"_gvid": 8, "name": "play_music", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1275.0, 790.0], [1275.0, 790.0], [1193.0, 790.0], [1193.0, 790.0], [1187.0, 790.0], [1181.0, 784.0], [1181.0, 778.0], [1181.0, 778.0], [1181.0, 766.0], [1181.0, 766.0], [1181.0, 760.0], [1187.0, 754.0], [1193.0, 754.0], [1193.0, 754.0], [1275.0, 754.0], [1275.0, 754.0], [1281.0, 754.0], [1287.0, 760.0], [1287.0, 766.0], [1287.0, 766.0], [1287.0, 778.0], [1287.0, 778.0], [1287.0, 784.0], [1281.0, 790.0], [1275.0, 790.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 768.3], "align": "c", "width": 90.0, "text": "play_music()"}], "height": "0.5", "label": "play_music()", "pos": "1234,772", "shape": "box", "style": "rounded", "width": "1.4722"}, {"_gvid": 9, "name": "full_song", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1034.0, 773.0], [1034.0, 773.0], [782.0, 773.0], [782.0, 773.0], [776.0, 773.0], [770.0, 767.0], [770.0, 761.0], [770.0, 761.0], [770.0, 749.0], [770.0, 749.0], [770.0, 743.0], [776.0, 737.0], [782.0, 737.0], [782.0, 737.0], [1034.0, 737.0], [1034.0, 737.0], [1040.0, 737.0], [1046.0, 743.0], [1046.0, 749.0], [1046.0, 749.0], [1046.0, 761.0], [1046.0, 761.0], [1046.0, 767.0], [1040.0, 773.0], [1034.0, 773.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [908.0, 751.3], "align": "c", "width": 260.0, "text": "Full Song (Part A + Part B + Part C)"}], "height": "0.5", "label": "Full Song (Part A + Part B + Part C)", "pos": "908,755", "shape": "box", "style": "rounded", "width": "3.8333"}, {"_gvid": 10, "name": "transformation", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[494.0, 491.0], [494.0, 491.0], [333.0, 491.0], [333.0, 491.0], [327.0, 491.0], [321.0, 485.0], [321.0, 479.0], [321.0, 479.0], [321.0, 467.0], [321.0, 467.0], [321.0, 461.0], [327.0, 455.0], [333.0, 455.0], [333.0, 455.0], [494.0, 455.0], [494.0, 455.0], [500.0, 455.0], [506.0, 461.0], [506.0, 467.0], [506.0, 467.0], [506.0, 479.0], [506.0, 479.0], [506.0, 485.0], [500.0, 491.0], [494.0, 491.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 469.3], "align": "c", "width": 169.0, "text": "Transformation Module"}], "height": "0.5", "label": "Transformation Module", "pos": "413.5,473", "shape": "box", "style": "rounded", "width": "2.5694"}, {"_gvid": 11, "name": "skip_start_codon", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[989.5, 498.0], [989.5, 498.0], [826.5, 498.0], [826.5, 498.0], [820.5, 498.0], [814.5, 492.0], [814.5, 486.0], [814.5, 486.0], [814.5, 474.0], [814.5, 474.0], [814.5, 468.0], [820.5, 462.0], [826.5, 462.0], [826.5, 462.0], [989.5, 462.0], [989.5, 462.0], [995.5, 462.0], [1001.5, 468.0], [1001.5, 474.0], [1001.5, 474.0], [1001.5, 486.0], [1001.5, 486.0], [1001.5, 492.0], [995.5, 498.0], [989.5, 498.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [908.0, 476.3], "align": "c", "width": 171.0, "text": "Skip Start Codon (AUG)"}], "height": "0.5", "label": "Skip Start Codon (AUG)", "pos": "908,480", "shape": "box", "style": "rounded", "width": "2.5972"}, {"_gvid": 12, "name": "split_sequence", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1373.0, 515.0], [1373.0, 515.0], [1095.0, 515.0], [1095.0, 515.0], [1089.0, 515.0], [1083.0, 509.0], [1083.0, 503.0], [1083.0, 503.0], [1083.0, 491.0], [1083.0, 491.0], [1083.0, 485.0], [1089.0, 479.0], [1095.0, 479.0], [1095.0, 479.0], [1373.0, 479.0], [1373.0, 479.0], [1379.0, 479.0], [1385.0, 485.0], [1385.0, 491.0], [1385.0, 491.0], [1385.0, 503.0], [1385.0, 503.0], [1385.0, 509.0], [1379.0, 515.0], [1373.0, 515.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 493.3], "align": "c", "width": 286.0, "text": "Split mRNA Sequence into Parts A, B, C"}], "height": "0.5", "label": "Split mRNA Sequence into Parts A, B, C", "pos": "1234,497", "shape": "box", "style": "rounded", "width": "4.1944"}, {"_gvid": 13, "name": "map_codons", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1781.0, 542.0], [1781.0, 542.0], [1631.0, 542.0], [1631.0, 542.0], [1625.0, 542.0], [1619.0, 536.0], [1619.0, 530.0], [1619.0, 530.0], [1619.0, 518.0], [1619.0, 518.0], [1619.0, 512.0], [1625.0, 506.0], [1631.0, 506.0], [1631.0, 506.0], [1781.0, 506.0], [1781.0, 506.0], [1787.0, 506.0], [1793.0, 512.0], [1793.0, 518.0], [1793.0, 518.0], [1793.0, 530.0], [1793.0, 530.0], [1793.0, 536.0], [1787.0, 542.0], [1781.0, 542.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1706.0, 520.3], "align": "c", "width": 158.0, "text": "map_codons_to_keys()"}], "height": "0.5", "label": "map_codons_to_keys()", "pos": "1706,524", "shape": "box", "style": "rounded", "width": "2.4167"}, {"_gvid": 14, "name": "apply_extra_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1761.5, 596.0], [1761.5, 596.0], [1650.5, 596.0], [1650.5, 596.0], [1644.5, 596.0], [1638.5, 590.0], [1638.5, 584.0], [1638.5, 584.0], [1638.5, 572.0], [1638.5, 572.0], [1638.5, 566.0], [1644.5, 560.0], [1650.5, 560.0], [1650.5, 560.0], [1761.5, 560.0], [1761.5, 560.0], [1767.5, 560.0], [1773.5, 566.0], [1773.5, 572.0], [1773.5, 572.0], [1773.5, 584.0], [1773.5, 584.0], [1773.5, 590.0], [1767.5, 596.0], [1761.5, 596.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1706.0, 574.3], "align": "c", "width": 119.0, "text": "use_extra_keys()"}], "height": "0.5", "label": "use_extra_keys()", "pos": "1706,578", "shape": "box", "style": "rounded", "width": "1.875"}, {"_gvid": 15, "name": "part_a", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1557.0, 488.0], [1557.0, 488.0], [1447.0, 488.0], [1447.0, 488.0], [1441.0, 488.0], [1435.0, 482.0], [1435.0, 476.0], [1435.0, 476.0], [1435.0, 464.0], [1435.0, 464.0], [1435.0, 458.0], [1441.0, 452.0], [1447.0, 452.0], [1447.0, 452.0], [1557.0, 452.0], [1557.0, 452.0], [1563.0, 452.0], [1569.0, 458.0], [1569.0, 464.0], [1569.0, 464.0], [1569.0, 476.0], [1569.0, 476.0], [1569.0, 482.0], [1563.0, 488.0], [1557.0, 488.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 466.3], "align": "c", "width": 118.0, "text": "Part A Sequence"}], "height": "0.5", "label": "Part A Sequence", "pos": "1502,470", "shape": "box", "style": "rounded", "width": "1.8611"}, {"_gvid": 16, "name": "part_b", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1557.5, 542.0], [1557.5, 542.0], [1446.5, 542.0], [1446.5, 542.0], [1440.5, 542.0], [1434.5, 536.0], [1434.5, 530.0], [1434.5, 530.0], [1434.5, 518.0], [1434.5, 518.0], [1434.5, 512.0], [1440.5, 506.0], [1446.5, 506.0], [1446.5, 506.0], [1557.5, 506.0], [1557.5, 506.0], [1563.5, 506.0], [1569.5, 512.0], [1569.5, 518.0], [1569.5, 518.0], [1569.5, 530.0], [1569.5, 530.0], [1569.5, 536.0], [1563.5, 542.0], [1557.5, 542.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 520.3], "align": "c", "width": 119.0, "text": "Part B Sequence"}], "height": "0.5", "label": "Part B Sequence", "pos": "1502,524", "shape": "box", "style": "rounded", "width": "1.875"}, {"_gvid": 17, "name": "part_c", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1557.5, 596.0], [1557.5, 596.0], [1446.5, 596.0], [1446.5, 596.0], [1440.5, 596.0], [1434.5, 590.0], [1434.5, 584.0], [1434.5, 584.0], [1434.5, 572.0], [1434.5, 572.0], [1434.5, 566.0], [1440.5, 560.0], [1446.5, 560.0], [1446.5, 560.0], [1557.5, 560.0], [1557.5, 560.0], [1563.5, 560.0], [1569.5, 566.0], [1569.5, 572.0], [1569.5, 572.0], [1569.5, 584.0], [1569.5, 584.0], [1569.5, 590.0], [1563.5, 596.0], [1557.5, 596.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 574.3], "align": "c", "width": 119.0, "text": "Part C Sequence"}], "height": "0.5", "label": "Part C Sequence", "pos": "1502,578", "shape": "box", "style": "rounded", "width": "1.875"}, {"_gvid": 18, "name": "mtype", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[479.5, 160.0], [479.5, 160.0], [347.5, 160.0], [347.5, 160.0], [341.5, 160.0], [335.5, 154.0], [335.5, 148.0], [335.5, 148.0], [335.5, 136.0], [335.5, 136.0], [335.5, 130.0], [341.5, 124.0], [347.5, 124.0], [347.5, 124.0], [479.5, 124.0], [479.5, 124.0], [485.5, 124.0], [491.5, 130.0], [491.5, 136.0], [491.5, 136.0], [491.5, 148.0], [491.5, 148.0], [491.5, 154.0], [485.5, 160.0], [479.5, 160.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 138.3], "align": "c", "width": 140.0, "text": "Music Type Module"}], "height": "0.5", "label": "Music Type Module", "pos": "413.5,142", "shape": "box", "style": "rounded", "width": "2.1667"}, {"_gvid": 19, "name": "assign_black_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[974.0, 79.0], [974.0, 79.0], [842.0, 79.0], [842.0, 79.0], [836.0, 79.0], [830.0, 73.0], [830.0, 67.0], [830.0, 67.0], [830.0, 55.0], [830.0, 55.0], [830.0, 49.0], [836.0, 43.0], [842.0, 43.0], [842.0, 43.0], [974.0, 43.0], [974.0, 43.0], [980.0, 43.0], [986.0, 49.0], [986.0, 55.0], [986.0, 55.0], [986.0, 67.0], [986.0, 67.0], [986.0, 73.0], [980.0, 79.0], [974.0, 79.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [908.0, 57.3], "align": "c", "width": 140.0, "text": "assign_black_keys()"}], "height": "0.5", "label": "assign_black_keys()", "pos": "908,61", "shape": "box", "style": "rounded", "width": "2.1667"}, {"_gvid": 20, "name": "get_key_ranges", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[964.5, 160.0], [964.5, 160.0], [851.5, 160.0], [851.5, 160.0], [845.5, 160.0], [839.5, 154.0], [839.5, 148.0], [839.5, 148.0], [839.5, 136.0], [839.5, 136.0], [839.5, 130.0], [845.5, 124.0], [851.5, 124.0], [851.5, 124.0], [964.5, 124.0], [964.5, 124.0], [970.5, 124.0], [976.5, 130.0], [976.5, 136.0], [976.5, 136.0], [976.5, 148.0], [976.5, 148.0], [976.5, 154.0], [970.5, 160.0], [964.5, 160.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [908.0, 138.3], "align": "c", "width": 121.0, "text": "get_key_ranges()"}], "height": "0.5", "label": "get_key_ranges()", "pos": "908,142", "shape": "box", "style": "rounded", "width": "1.9028"}, {"_gvid": 21, "name": "use_extra_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[469.0, 79.0], [469.0, 79.0], [358.0, 79.0], [358.0, 79.0], [352.0, 79.0], [346.0, 73.0], [346.0, 67.0], [346.0, 67.0], [346.0, 55.0], [346.0, 55.0], [346.0, 49.0], [352.0, 43.0], [358.0, 43.0], [358.0, 43.0], [469.0, 43.0], [469.0, 43.0], [475.0, 43.0], [481.0, 49.0], [481.0, 55.0], [481.0, 55.0], [481.0, 67.0], [481.0, 67.0], [481.0, 73.0], [475.0, 79.0], [469.0, 79.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [413.5, 57.3], "align": "c", "width": 119.0, "text": "use_extra_keys()"}], "height": "0.5", "label": "use_extra_keys()", "pos": "413.5,61", "shape": "box", "style": "rounded", "width": "1.875"}, {"_gvid": 22, "name": "most_used_range", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1309.0, 106.0], [1309.0, 106.0], [1159.0, 106.0], [1159.0, 106.0], [1153.0, 106.0], [1147.0, 100.0], [1147.0, 94.0], [1147.0, 94.0], [1147.0, 82.0], [1147.0, 82.0], [1147.0, 76.0], [1153.0, 70.0], [1159.0, 70.0], [1159.0, 70.0], [1309.0, 70.0], [1309.0, 70.0], [1315.0, 70.0], [1321.0, 76.0], [1321.0, 82.0], [1321.0, 82.0], [1321.0, 94.0], [1321.0, 94.0], [1321.0, 100.0], [1315.0, 106.0], [1309.0, 106.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 84.3], "align": "c", "width": 158.0, "text": "Most Used Key Range"}], "height": "0.5", "label": "Most Used Key Range", "pos": "1234,88", "shape": "box", "style": "rounded", "width": "2.4167"}, {"_gvid": 23, "name": "full_range", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1284.5, 160.0], [1284.5, 160.0], [1183.5, 160.0], [1183.5, 160.0], [1177.5, 160.0], [1171.5, 154.0], [1171.5, 148.0], [1171.5, 148.0], [1171.5, 136.0], [1171.5, 136.0], [1171.5, 130.0], [1177.5, 124.0], [1183.5, 124.0], [1183.5, 124.0], [1284.5, 124.0], [1284.5, 124.0], [1290.5, 124.0], [1296.5, 130.0], [1296.5, 136.0], [1296.5, 136.0], [1296.5, 148.0], [1296.5, 148.0], [1296.5, 154.0], [1290.5, 160.0], [1284.5, 160.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 138.3], "align": "c", "width": 109.0, "text": "Full Key Range"}], "height": "0.5", "label": "Full Key Range", "pos": "1234,142", "shape": "box", "style": "rounded", "width": "1.7361"}, {"_gvid": 24, "name": "black_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1269.0, 52.0], [1269.0, 52.0], [1199.0, 52.0], [1199.0, 52.0], [1193.0, 52.0], [1187.0, 46.0], [1187.0, 40.0], [1187.0, 40.0], [1187.0, 28.0], [1187.0, 28.0], [1187.0, 22.0], [1193.0, 16.0], [1199.0, 16.0], [1199.0, 16.0], [1269.0, 16.0], [1269.0, 16.0], [1275.0, 16.0], [1281.0, 22.0], [1281.0, 28.0], [1281.0, 28.0], [1281.0, 40.0], [1281.0, 40.0], [1281.0, 46.0], [1275.0, 52.0], [1269.0, 52.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 30.3], "align": "c", "width": 78.0, "text": "Black Keys"}], "height": "0.5", "label": "Black Keys", "pos": "1234,34", "shape": "box", "style": "rounded", "width": "1.3056"}, {"_gvid": 25, "name": "keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[950.0, 322.0], [950.0, 322.0], [866.0, 322.0], [866.0, 322.0], [860.0, 322.0], [854.0, 316.0], [854.0, 310.0], [854.0, 310.0], [854.0, 298.0], [854.0, 298.0], [854.0, 292.0], [860.0, 286.0], [866.0, 286.0], [866.0, 286.0], [950.0, 286.0], [950.0, 286.0], [956.0, 286.0], [962.0, 292.0], [962.0, 298.0], [962.0, 298.0], [962.0, 310.0], [962.0, 310.0], [962.0, 316.0], [956.0, 322.0], [950.0, 322.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [908.0, 300.3], "align": "c", "width": 92.0, "text": "Keys Module"}], "height": "0.5", "label": "Keys Module", "pos": "908,304", "shape": "box", "style": "rounded", "width": "1.5"}, {"_gvid": 26, "name": "get_white_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1290.0, 243.0], [1290.0, 243.0], [1178.0, 243.0], [1178.0, 243.0], [1172.0, 243.0], [1166.0, 237.0], [1166.0, 231.0], [1166.0, 231.0], [1166.0, 219.0], [1166.0, 219.0], [1166.0, 213.0], [1172.0, 207.0], [1178.0, 207.0], [1178.0, 207.0], [1290.0, 207.0], [1290.0, 207.0], [1296.0, 207.0], [1302.0, 213.0], [1302.0, 219.0], [1302.0, 219.0], [1302.0, 231.0], [1302.0, 231.0], [1302.0, 237.0], [1296.0, 243.0], [1290.0, 243.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 221.3], "align": "c", "width": 120.0, "text": "get_white_keys()"}], "height": "0.5", "label": "get_white_keys()", "pos": "1234,225", "shape": "box", "style": "rounded", "width": "1.8889"}, {"_gvid": 27, "name": "get_black_key_groups", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1313.0, 297.0], [1313.0, 297.0], [1155.0, 297.0], [1155.0, 297.0], [1149.0, 297.0], [1143.0, 291.0], [1143.0, 285.0], [1143.0, 285.0], [1143.0, 273.0], [1143.0, 273.0], [1143.0, 267.0], [1149.0, 261.0], [1155.0, 261.0], [1155.0, 261.0], [1313.0, 261.0], [1313.0, 261.0], [1319.0, 261.0], [1325.0, 267.0], [1325.0, 273.0], [1325.0, 273.0], [1325.0, 285.0], [1325.0, 285.0], [1325.0, 291.0], [1319.0, 297.0], [1313.0, 297.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 275.3], "align": "c", "width": 166.0, "text": "get_black_key_groups()"}], "height": "0.5", "label": "get_black_key_groups()", "pos": "1234,279", "shape": "box", "style": "rounded", "width": "2.5278"}, {"_gvid": 28, "name": "get_black_key_sequence", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1322.0, 351.0], [1322.0, 351.0], [1146.0, 351.0], [1146.0, 351.0], [1140.0, 351.0], [1134.0, 345.0], [1134.0, 339.0], [1134.0, 339.0], [1134.0, 327.0], [1134.0, 327.0], [1134.0, 321.0], [1140.0, 315.0], [1146.0, 315.0], [1146.0, 315.0], [1322.0, 315.0], [1322.0, 315.0], [1328.0, 315.0], [1334.0, 321.0], [1334.0, 327.0], [1334.0, 327.0], [1334.0, 339.0], [1334.0, 339.0], [1334.0, 345.0], [1328.0, 351.0], [1322.0, 351.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 329.3], "align": "c", "width": 184.0, "text": "get_black_key_sequence()"}], "height": "0.5", "label": "get_black_key_sequence()", "pos": "1234,333", "shape": "box", "style": "rounded", "width": "2.7778"}, {"_gvid": 29, "name": "combine_codon_frequencies", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1335.0, 405.0], [1335.0, 405.0], [1133.0, 405.0], [1133.0, 405.0], [1127.0, 405.0], [1121.0, 399.0], [1121.0, 393.0], [1121.0, 393.0], [1121.0, 381.0], [1121.0, 381.0], [1121.0, 375.0], [1127.0, 369.0], [1133.0, 369.0], [1133.0, 369.0], [1335.0, 369.0], [1335.0, 369.0], [1341.0, 369.0], [1347.0, 375.0], [1347.0, 381.0], [1347.0, 381.0], [1347.0, 393.0], [1347.0, 393.0], [1347.0, 399.0], [1341.0, 405.0], [1335.0, 405.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1234.0, 383.3], "align": "c", "width": 210.0, "text": "combine_codon_frequencies()"}], "height": "0.5", "label": "combine_codon_frequencies()", "pos": "1234,387", "shape": "box", "style": "rounded", "width": "3.1389"}, {"_gvid": 30, "name": "white_keys", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1538.5, 243.0], [1538.5, 243.0], [1465.5, 243.0], [1465.5, 243.0], [1459.5, 243.0], [1453.5, 237.0], [1453.5, 231.0], [1453.5, 231.0], [1453.5, 219.0], [1453.5, 219.0], [1453.5, 213.0], [1459.5, 207.0], [1465.5, 207.0], [1465.5, 207.0], [1538.5, 207.0], [1538.5, 207.0], [1544.5, 207.0], [1550.5, 213.0], [1550.5, 219.0], [1550.5, 219.0], [1550.5, 231.0], [1550.5, 231.0], [1550.5, 237.0], [1544.5, 243.0], [1538.5, 243.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 221.3], "align": "c", "width": 81.0, "text": "White Keys"}], "height": "0.5", "label": "White Keys", "pos": "1502,225", "shape": "box", "style": "rounded", "width": "1.3472"}, {"_gvid": 31, "name": "black_key_groups", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1561.5, 297.0], [1561.5, 297.0], [1442.5, 297.0], [1442.5, 297.0], [1436.5, 297.0], [1430.5, 291.0], [1430.5, 285.0], [1430.5, 285.0], [1430.5, 273.0], [1430.5, 273.0], [1430.5, 267.0], [1436.5, 261.0], [1442.5, 261.0], [1442.5, 261.0], [1561.5, 261.0], [1561.5, 261.0], [1567.5, 261.0], [1573.5, 267.0], [1573.5, 273.0], [1573.5, 273.0], [1573.5, 285.0], [1573.5, 285.0], [1573.5, 291.0], [1567.5, 297.0], [1561.5, 297.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 275.3], "align": "c", "width": 127.0, "text": "Black Key Groups"}], "height": "0.5", "label": "Black Key Groups", "pos": "1502,279", "shape": "box", "style": "rounded", "width": "1.9861"}, {"_gvid": 32, "name": "black_key_sequence", "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1570.0, 351.0], [1570.0, 351.0], [1434.0, 351.0], [1434.0, 351.0], [1428.0, 351.0], [1422.0, 345.0], [1422.0, 339.0], [1422.0, 339.0], [1422.0, 327.0], [1422.0, 327.0], [1422.0, 321.0], [1428.0, 315.0], [1434.0, 315.0], [1434.0, 315.0], [1570.0, 315.0], [1570.0, 315.0], [1576.0, 315.0], [1582.0, 321.0], [1582.0, 327.0], [1582.0, 327.0], [1582.0, 339.0], [1582.0, 339.0], [1582.0, 345.0], [1576.0, 351.0], [1570.0, 351.0]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [1502.0, 329.3], "align": "c", "width": 144.0, "text": "Black Key Sequence"}], "height": "0.5", "label": "Black Key Sequence", "pos": "1502,333", "shape": "box", "style": "rounded", "width": "2.2222"}], "edges": [{"_gvid": 0, "tail": 4, "head": 5, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[117.3, 679.82], [167.96, 676.59], [247.89, 671.5], [311.81, 667.42]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[312.16, 670.91], [321.92, 666.78], [311.72, 663.92]]}], "label": "", "pos": "e,321.92,666.78 117.3,679.82 167.96,676.59 247.89,671.5 311.81,667.42"}, {"_gvid": 1, "tail": 4, "head": 6, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[117.3, 687.62], [173.03, 692.79], [264.19, 701.24], [330.49, 707.39]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[330.21, 710.88], [340.49, 708.32], [330.86, 703.91]]}], "label": "", "pos": "e,340.49,708.32 117.3,687.62 173.03,692.79 264.19,701.24 330.49,707.39"}, {"_gvid": 2, "tail": 4, "head": 7, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[117.23, 696.39], [123.22, 697.96], [129.24, 699.53], [135.0, 701.0], [199.24, 717.43], [272.06, 735.25], [326.98, 748.52]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[326.48, 752.0], [337.02, 750.94], [328.12, 745.19]]}], "label": "", "pos": "e,337.02,750.94 117.23,696.39 123.22,697.96 129.24,699.53 135,701 199.24,717.43 272.06,735.25 326.98,748.52"}, {"_gvid": 3, "tail": 4, "head": 8, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[94.34, 701.06], [137.1, 728.53], [224.29, 779.39], [307.0, 796.0], [626.62, 860.2], [1020.7, 807.67], [1170.89, 783.03]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1171.56, 786.47], [1180.86, 781.38], [1170.42, 779.56]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [645.0, 829.8], "align": "c", "width": 64.0, "text": "full_song"}], "label": "full_song", "lp": "645,833.5", "pos": "e,1180.9,781.38 94.345,701.06 137.1,728.53 224.29,779.39 307,796 626.62,860.2 1020.7,807.67 1170.9,783.03"}, {"_gvid": 4, "tail": 4, "head": 10, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[104.41, 664.91], [149.08, 642.58], [226.13, 602.69], [289.0, 563.0], [321.51, 542.48], [356.79, 516.35], [381.28, 497.54]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[383.7, 500.09], [389.47, 491.21], [379.42, 494.55]]}], "label": "", "pos": "e,389.47,491.21 104.41,664.91 149.08,642.58 226.13,602.69 289,563 321.51,542.48 356.79,516.35 381.28,497.54"}, {"_gvid": 5, "tail": 7, "head": 9, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[520.15, 766.0], [589.94, 764.01], [682.39, 761.38], [759.41, 759.2]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[759.79, 762.69], [769.68, 758.9], [759.59, 755.69]]}], "label": "", "pos": "e,769.68,758.9 520.15,766 589.94,764.01 682.39,761.38 759.41,759.2"}, {"_gvid": 6, "tail": 9, "head": 8, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1046.41, 762.21], [1089.73, 764.48], [1135.46, 766.88], [1170.8, 768.74]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1170.79, 772.24], [1180.96, 769.27], [1171.15, 765.25]]}], "label": "", "pos": "e,1181,769.27 1046.4,762.21 1089.7,764.48 1135.5,766.88 1170.8,768.74"}, {"_gvid": 7, "tail": 10, "head": 4, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[320.95, 477.02], [262.16, 483.93], [187.3, 501.31], [135.0, 544.0], [100.27, 572.35], [82.12, 622.92], [73.7, 654.62]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[70.24, 654.03], [71.21, 664.58], [77.03, 655.73]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [212.0, 547.8], "align": "c", "width": 154.0, "text": "part_a, part_b, part_c"}], "label": "part_a, part_b, part_c", "lp": "212,551.5", "pos": "e,71.21,664.58 320.95,477.02 262.16,483.93 187.3,501.31 135,544 100.27,572.35 82.12,622.92 73.702,654.62"}, {"_gvid": 8, "tail": 10, "head": 11, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[506.27, 474.3], [590.86, 475.51], [716.25, 477.29], [804.18, 478.54]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[804.4, 482.04], [814.45, 478.68], [804.5, 475.04]]}], "label": "", "pos": "e,814.45,478.68 506.27,474.3 590.86,475.51 716.25,477.29 804.18,478.54"}, {"_gvid": 9, "tail": 10, "head": 18, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[413.5, 454.97], [413.5, 360.04], [413.5, 265.11], [413.5, 170.18]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[417.0, 170.1], [413.5, 160.1], [410.0, 170.1]]}], "label": "", "pos": "e,413.5,160.1 413.5,454.97 413.5,360.04 413.5,265.11 413.5,170.18"}, {"_gvid": 10, "tail": 10, "head": 25, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[470.82, 454.92], [537.98, 433.22], [653.51, 395.44], [752.0, 361.0], [784.34, 349.69], [820.26, 336.52], [849.37, 325.69]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[850.82, 328.89], [858.97, 322.11], [848.37, 322.33]]}], "label": "", "pos": "e,858.97,322.11 470.82,454.92 537.98,433.22 653.51,395.44 752,361 784.34,349.69 820.26,336.52 849.37,325.69"}, {"_gvid": 11, "tail": 11, "head": 12, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1001.85, 484.87], [1024.11, 486.04], [1048.53, 487.32], [1072.89, 488.6]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1072.78, 492.1], [1082.95, 489.13], [1073.15, 485.11]]}], "label": "", "pos": "e,1082.9,489.13 1001.8,484.87 1024.1,486.04 1048.5,487.32 1072.9,488.6"}, {"_gvid": 12, "tail": 12, "head": 15, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1385.1, 481.76], [1398.64, 480.39], [1411.93, 479.04], [1424.41, 477.77]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1425.09, 481.22], [1434.69, 476.73], [1424.39, 474.26]]}], "label": "", "pos": "e,1434.7,476.73 1385.1,481.76 1398.6,480.39 1411.9,479.04 1424.4,477.77"}, {"_gvid": 13, "tail": 12, "head": 16, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1385.1, 512.24], [1398.54, 513.6], [1411.75, 514.94], [1424.15, 516.2]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1424.07, 519.71], [1434.38, 517.24], [1424.78, 512.75]]}], "label": "", "pos": "e,1434.4,517.24 1385.1,512.24 1398.5,513.6 1411.7,514.94 1424.2,516.2"}, {"_gvid": 14, "tail": 12, "head": 17, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1294.36, 515.08], [1335.13, 527.49], [1389.38, 544.01], [1432.07, 557.01]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1431.23, 560.41], [1441.82, 559.98], [1433.27, 553.72]]}], "label": "", "pos": "e,1441.8,559.98 1294.4,515.08 1335.1,527.49 1389.4,544.01 1432.1,557.01"}, {"_gvid": 15, "tail": 15, "head": 13, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1569.14, 487.68], [1587.84, 492.68], [1608.36, 498.17], [1627.66, 503.33]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1626.76, 506.71], [1637.32, 505.91], [1628.57, 499.94]]}], "label": "", "pos": "e,1637.3,505.91 1569.1,487.68 1587.8,492.68 1608.4,498.17 1627.7,503.33"}, {"_gvid": 16, "tail": 16, "head": 13, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1569.7, 524.0], [1582.25, 524.0], [1595.6, 524.0], [1608.83, 524.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1608.92, 527.5], [1618.92, 524.0], [1608.92, 520.5]]}], "label": "", "pos": "e,1618.9,524 1569.7,524 1582.2,524 1595.6,524 1608.8,524"}, {"_gvid": 17, "tail": 17, "head": 13, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1569.7, 560.17], [1588.2, 555.22], [1608.43, 549.81], [1627.49, 544.72]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1628.58, 548.05], [1637.33, 542.09], [1626.77, 541.29]]}], "label": "", "pos": "e,1637.3,542.09 1569.7,560.17 1588.2,555.22 1608.4,549.81 1627.5,544.72"}, {"_gvid": 18, "tail": 17, "head": 14, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1569.7, 578.0], [1588.41, 578.0], [1608.89, 578.0], [1628.13, 578.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1628.37, 581.5], [1638.37, 578.0], [1628.37, 574.5]]}], "label": "", "pos": "e,1638.4,578 1569.7,578 1588.4,578 1608.9,578 1628.1,578"}, {"_gvid": 19, "tail": 18, "head": 10, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[413.5, 160.27], [413.5, 215.09], [413.5, 378.47], [413.5, 444.67]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[410.0, 444.79], [413.5, 454.79], [417.0, 444.79]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [403.0, 303.8], "align": "c", "width": 205.0, "text": "most_used_range, full_range"}], "label": "most_used_range, full_range", "lp": "403,307.5", "pos": "e,413.5,454.79 413.5,160.27 413.5,215.09 413.5,378.47 413.5,444.67"}, {"_gvid": 20, "tail": 18, "head": 19, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[491.72, 129.3], [580.79, 114.65], [726.87, 90.63], [819.91, 75.32]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[820.57, 78.76], [829.87, 73.69], [819.43, 71.86]]}], "label": "", "pos": "e,829.87,73.686 491.72,129.3 580.79,114.65 726.87,90.625 819.91,75.323"}, {"_gvid": 21, "tail": 18, "head": 20, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[491.72, 142.0], [583.83, 142.0], [736.91, 142.0], [829.25, 142.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[829.38, 145.5], [839.38, 142.0], [829.38, 138.5]]}], "label": "", "pos": "e,839.38,142 491.72,142 583.83,142 736.91,142 829.25,142"}, {"_gvid": 22, "tail": 18, "head": 25, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[442.44, 160.08], [466.84, 175.2], [503.63, 196.42], [538.0, 210.0], [641.64, 250.96], [768.79, 278.74], [843.55, 292.93]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[843.27, 296.44], [853.74, 294.84], [844.56, 289.56]]}], "label": "", "pos": "e,853.74,294.84 442.44,160.08 466.84,175.2 503.63,196.42 538,210 641.64,250.96 768.79,278.74 843.55,292.93"}, {"_gvid": 23, "tail": 19, "head": 24, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[986.19, 54.57], [1044.8, 49.68], [1124.04, 43.08], [1176.74, 38.69]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1177.24, 42.16], [1186.92, 37.84], [1176.66, 35.18]]}], "label": "", "pos": "e,1186.9,37.84 986.19,54.567 1044.8,49.683 1124,43.08 1176.7,38.688"}, {"_gvid": 24, "tail": 20, "head": 22, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[976.53, 130.75], [1022.86, 123.02], [1085.05, 112.66], [1136.58, 104.07]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1137.45, 107.47], [1146.74, 102.38], [1136.3, 100.57]]}], "label": "", "pos": "e,1146.7,102.38 976.53,130.75 1022.9,123.02 1085,112.66 1136.6,104.07"}, {"_gvid": 25, "tail": 20, "head": 23, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[976.53, 142.0], [1030.56, 142.0], [1106.16, 142.0], [1161.27, 142.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1161.31, 145.5], [1171.31, 142.0], [1161.31, 138.5]]}], "label": "", "pos": "e,1171.3,142 976.53,142 1030.6,142 1106.2,142 1161.3,142"}, {"_gvid": 26, "tail": 25, "head": 10, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[853.73, 298.3], [779.03, 292.7], [640.78, 291.24], [538.0, 342.0], [490.56, 365.43], [451.85, 415.16], [431.08, 446.16]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[428.01, 444.46], [425.46, 454.75], [433.86, 448.3]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [645.0, 345.8], "align": "c", "width": 214.0, "text": "white_keys, black_key_groups"}], "label": "white_keys, black_key_groups", "lp": "645,349.5", "pos": "e,425.46,454.75 853.73,298.3 779.03,292.7 640.78,291.24 538,342 490.56,365.43 451.85,415.16 431.08,446.16"}, {"_gvid": 27, "tail": 25, "head": 18, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[888.35, 285.59], [860.99, 259.78], [807.2, 213.5], [752.0, 191.0], [707.94, 173.04], [586.18, 158.32], [501.65, 149.85]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[501.83, 146.35], [491.53, 148.85], [501.14, 153.31]]}], "_ldraw_": [{"op": "F", "size": 14.0, "face": "Times-Roman"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "T", "pt": [645.0, 194.8], "align": "c", "width": 143.0, "text": "black_key_sequence"}], "label": "black_key_sequence", "lp": "645,198.5", "pos": "e,491.53,148.85 888.35,285.59 860.99,259.78 807.2,213.5 752,191 707.94,173.04 586.18,158.32 501.65,149.85"}, {"_gvid": 28, "tail": 25, "head": 26, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[962.27, 286.39], [996.5, 275.49], [1042.06, 261.77], [1083.0, 252.0], [1106.53, 246.38], [1132.39, 241.34], [1155.91, 237.17]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1156.59, 240.6], [1165.84, 235.43], [1155.38, 233.7]]}], "label": "", "pos": "e,1165.8,235.43 962.27,286.39 996.5,275.49 1042.1,261.77 1083,252 1106.5,246.38 1132.4,241.34 1155.9,237.17"}, {"_gvid": 29, "tail": 25, "head": 27, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[962.14, 299.9], [1008.29, 296.34], [1076.38, 291.09], [1132.74, 286.74]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1133.06, 290.22], [1142.76, 285.96], [1132.52, 283.24]]}], "label": "", "pos": "e,1142.8,285.96 962.14,299.9 1008.3,296.34 1076.4,291.09 1132.7,286.74"}, {"_gvid": 30, "tail": 25, "head": 28, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[962.14, 308.76], [1005.83, 312.67], [1069.18, 318.34], [1123.63, 323.21]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1123.41, 326.7], [1133.68, 324.11], [1124.03, 319.73]]}], "label": "", "pos": "e,1133.7,324.11 962.14,308.76 1005.8,312.67 1069.2,318.34 1123.6,323.21"}, {"_gvid": 31, "tail": 25, "head": 29, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[959.12, 322.09], [993.61, 334.06], [1040.67, 349.43], [1083.0, 360.0], [1092.82, 362.45], [1103.06, 364.78], [1113.37, 366.95]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1112.77, 370.4], [1123.27, 369.0], [1114.18, 363.55]]}], "label": "", "pos": "e,1123.3,369 959.12,322.09 993.61,334.06 1040.7,349.43 1083,360 1092.8,362.45 1103.1,364.78 1113.4,366.95"}, {"_gvid": 32, "tail": 26, "head": 30, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1302.12, 225.0], [1345.54, 225.0], [1401.49, 225.0], [1442.97, 225.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1443.2, 228.5], [1453.19, 225.0], [1443.19, 221.5]]}], "label": "", "pos": "e,1453.2,225 1302.1,225 1345.5,225 1401.5,225 1443,225"}, {"_gvid": 33, "tail": 27, "head": 31, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1325.06, 279.0], [1355.93, 279.0], [1390.26, 279.0], [1420.34, 279.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1420.37, 282.5], [1430.37, 279.0], [1420.37, 275.5]]}], "label": "", "pos": "e,1430.4,279 1325.1,279 1355.9,279 1390.3,279 1420.3,279"}, {"_gvid": 34, "tail": 28, "head": 32, "_draw_": [{"op": "c", "grad": "none", "color": "#000000"}, {"op": "b", "points": [[1334.05, 333.0], [1359.49, 333.0], [1386.72, 333.0], [1411.64, 333.0]]}], "_hdraw_": [{"op": "S", "style": "solid"}, {"op": "c", "grad": "none", "color": "#000000"}, {"op": "C", "grad": "none", "color": "#000000"}, {"op": "P", "points": [[1411.8, 336.5], [1421.8, 333.0], [1411.8, 329.5]]}], "label": "", "pos": "e,1421.8,333 1334,333 1359.5,333 1386.7,333 1411.6,333"}]};

            console.log("Loaded graph data:", graph); // Debugging statement

            // Validate graph structure
            if (!graph) {
                console.error("Graph data is undefined or null.");
                return;
            }

            if (!Array.isArray(graph.objects)) {
                console.error("graph.objects is not an array:", graph.objects);
                return;
            }

            if (!Array.isArray(graph.edges)) {
                console.error("graph.edges is not an array:", graph.edges);
                return;
            }

            // Map 'objects' to 'nodes' with unique 'id's
            const nodes = graph.objects.map(obj => ({
                id: obj._gvid,
                label: obj.label,
                name: obj.name,
                shape: obj.shape
            }));

            // Map 'edges' to 'links' with 'source' and 'target'
            const links = graph.edges.map(edge => ({
                source: edge.tail,
                target: edge.head,
            }));

            const width = 1200, height = 800;
            const nodeRadius = 10;
            const padding = 20;

            const svg = d3.select("svg")
                .attr("width", "100%")
                .attr("height", "100%")
                .attr("viewBox", `0 0 ${width} ${height}`)
                .attr("preserveAspectRatio", "xMidYMid meet");

            // Define zoom behavior
            const zoom = d3.zoom()
                .scaleExtent([0.5, 5]) // Adjust zoom scale as needed
                .on("zoom", zoomed);

            // Apply zoom behavior to SVG
            svg.call(zoom);

            // Create a container for all elements
            const container = svg.append("g");

            // Create a force simulation
            const simulation = d3.forceSimulation(nodes)
                .force("link", d3.forceLink(links).id(d => d.id).distance(100))
                .force("charge", d3.forceManyBody().strength(-300))
                .force("center", d3.forceCenter(width / 2, height / 2))
                .force("collide", d3.forceCollide().radius(nodeRadius + 5).strength(1))
                .force("boundX", d3.forceX(width / 2).strength(0.05))
                .force("boundY", d3.forceY(height / 2).strength(0.05));

            // Draw links
            const link = container.selectAll(".link")
                .data(links)
                .enter().append("line")
                .attr("class", "link");

            // Draw nodes
            const node = container.selectAll(".node")
                .data(nodes)
                .enter().append("circle")
                .attr("class", "node")
                .attr("r", nodeRadius)
                .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended));

            // Add labels
            const label = container.selectAll(".label")
                .data(nodes)
                .enter().append("text")
                .attr("class", "label")
                .text(d => d.label)
                .attr("x", 15)
                .attr("y", 5);

            // Initialize tooltip
            const tooltip = d3.select(".tooltip");

            // Update positions on each tick with clamping
            simulation.on("tick", () => {
                link.attr("x1", d => d.source.x)
                    .attr("y1", d => d.source.y)
                    .attr("x2", d => d.target.x)
                    .attr("y2", d => d.target.y);

                node.attr("cx", d => {
                        // Clamp the x position
                        d.x = Math.max(nodeRadius + padding, Math.min(width - nodeRadius - padding, d.x));
                        return d.x;
                    })
                    .attr("cy", d => {
                        // Clamp the y position
                        d.y = Math.max(nodeRadius + padding, Math.min(height - nodeRadius - padding, d.y));
                        return d.y;
                    });

                label.attr("x", d => d.x + 15)
                     .attr("y", d => d.y + 5);
            });

            // Define zoomed function
            function zoomed(event) {
                container.attr("transform", event.transform);
            }

            // Drag functions
            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }

            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }

            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }

            // Tooltip interactivity
            node.on("mouseover", function(event, d) {		
                    tooltip.transition()		
                        .duration(200)		
                        .style("opacity", .9);		
                    tooltip.html(d.label)	
                        .style("left", (event.pageX) + "px")		
                        .style("top", (event.pageY - 28) + "px");	
                })					
                .on("mouseout", function(d) {		
                    tooltip.transition()		
                        .duration(500)		
                        .style("opacity", 0);	
                });

            // Color Customization Panel Functionality
            // Select color inputs
            const nodeColorInput = document.getElementById('nodeColor');
            const linkColorInput = document.getElementById('linkColor');
            const labelColorInput = document.getElementById('labelColor');

            // Event listeners for color changes
            nodeColorInput.addEventListener('input', function() {
                const selectedColor = this.value;
                node.style('fill', selectedColor);
            });

            linkColorInput.addEventListener('input', function() {
                const selectedColor = this.value;
                link.style('stroke', selectedColor);
            });

            labelColorInput.addEventListener('input', function() {
                const selectedColor = this.value;
                label.style('fill', selectedColor);
            });

            // Resizer Functionality
            const resizer = document.querySelector('.resizer');
            const controls = document.querySelector('.controls');
            const visualization = document.querySelector('.visualization-container');

            resizer.addEventListener('mousedown', initResize, false);

            function initResize(e) {
                window.addEventListener('mousemove', Resize, false);
                window.addEventListener('mouseup', stopResize, false);
            }

            function Resize(e) {
                const newWidth = e.clientX;
                // Set minimum and maximum widths
                if (newWidth > 150 && newWidth < window.innerWidth - 150) {
                    controls.style.width = `${newWidth}px`;
                }
            }

            function stopResize(e) {
                window.removeEventListener('mousemove', Resize, false);
                window.removeEventListener('mouseup', stopResize, false);
            }

        })(); // End of IIFE
    </script>
</body>
</html>
